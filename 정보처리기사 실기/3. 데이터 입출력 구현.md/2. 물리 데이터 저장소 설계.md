# 2-1 물리 데이터 모델 설계

## 1. 물리 데이터 모델링 개념
- 논리모델을 적용하고자 하는 기술에 맞도록 상세화해가는 과정

# 2-2 물리 데이터 저장소 구성

## 1. 데이터베이스 무결성
- 데이터베이스에 저장된 데이터 값과 그것이 표현하는 현실 세계의 실제 값이 일치하는 성질
- 종류 :
    - 개체 무결성 : 한 엔터티에서 같은 기본 키를 가질 수 없거나, 기본 키의 속성이 NULL을 허용할 수 없는 제약조건
    - **참조 무결성 : 외래 키가 참조하는 다른 개체의 기본 키에 해당하는 값이 기본 키값이나 NULL이어야 하는 제약 조건**
    - 속성 무결성 : 속성의 값은 기본값, NULL 여부, 도메인이 지정된 규칙을 준수해야 하는 제약 조건
    - 사용자 정의 무결성 : 사용자의 의미적 요구사항을 준수해야 하는 제약 조건
    - 키 무결성 : 한 릴레이션에 같은 키값을 가진 튜플들을 허용할 수 없는 제약조건

## 2. 키
- 데이터베이스에서 조건을 만족하는 튜플을 찾거나 순서대로 정렬할 때 다른 튜플들과 구별할 수 있는 기준이 되는 속성
- 키 특성 :
    - 유일성 : 식별자에 의해 엔터티 타입 내에 모든 엔터티들이 유일하게 구분
    - 최소성 : 최소한의 속성으로 식별자 구성

- 키 종류 :
    - 기본 키 (Primary) : 테이블의 각 튜플들을 고유하게 식별하는 컬럼
    - 대체 키 (Alternate) : 후보 키 중에서 기본 키로 선택되지 않은 키
    - 후보 키 (Candidate) : 테이블에서 각 튜플을 구별하는데 기준이 되는 컬럼 (기본 키 + 대체 키) -> 유일성과 최소성 모두 만족
    - 슈퍼 키 : 릴레이션을 구성하는 모든 튜플에 대해 유일성은 만족하지만, 최소성은 만족하지 못하는 키
    - 외래 키 (Foreign) : 한 릴레이션의 컬럼이 다른 릴레이션의 기본 키로 이용되는 키

## 3. 인덱스 설계
- 검색 연산의 최적화를 위해 데이터베이스 내 열에 대한 정보를 구성한 데이터구조 -> 신속한 조회 가능

## 4. 파티셔닝
- 테이블 또는 인덱스 데이터를 파티션 단위로 나누어 저장하는 기법
- 유형 :
    - 레인지 파티셔닝 :
        - 연속적인 숫자나 날짜를 기준으로 함 -> 손쉬운 관리 기법으로 인한 관리 시간 단축
    - 해시 파티셔닝 :
        - 파티션 키의 해시 함수 값에 의한 파티셔닝 기법 -> 균등한 데이터 분할, 성능 향상
    - 리스트 파티셔닝 :
        - 특정 파티션에 저장 될 데이터에 대한 명시적 제어가 가능한 파티셔닝 기법 -> 분포도가 비슷하고 데이터가 많은 SQL에서 컬럼의 조건이 많이 들어오는 경우
    - 컴포지트 파티셔닝 :
        - 2개 이상의 파티셔닝 결합 -> 큰 파티션에 대한 I/O 요청을 여러 파티션으로 분산
    - 라운드로빈 :
        - 라운드로빈으로 회전하며 새로운 행을 파티션에 할당 -> 행의 고른 분포를 원할때 사용

- 성능 향상 가용성 향상, 백업 가능, 경합 감소