# 2-1 SW 개발 보안 구현

## 1. 시큐어 코딩 가이드 
- 설계 및 구현 단계에서 해킹 등의 공격을 유발할 가능성이 있는 잠재적인 보안 취약점을 사전에 제거하고, 외부 공격으로부터 안전한 소프트웨어를 개발하는 기법
- 직렬화 : 데이터 구조나 오브젝트 상태를 다른 컴퓨터 환경으로 저장하고 재구성할 수 있는 포맷으로 변환하는 과정

## 2. 입력 데이터 검증 및 표현
- 입력 데이터로 인해 발생하는 문제들을 예방하기 위해 구현 단계에서 검증해야 하는 보안 점검 항목들
- 입력 데이터 검증 및 표현 취약점 :
    - XSS (Cross Site Scripting) :
        - 검증되지 않은 외부 입력 데이터가 포함된 웹페이지가 전송되는 경우 웹페이지에 포함된 부적절한 스크립트가 실행됨
        - Stored XSS : 방문자들이 악성 스크립트가 포함된 페이지를 읽어 봄과 동시에 악성 스크립트가 브라우저에서 실행되면서 감염됨
        - Reflected XSS : 공격용 악성 URL을 생성한 후 이메일로 사용자에게 전송하면 사용자가 클릭 시 공격 스크립트가 피해자로 반사되어 접속 사이트에 민감정보를 공격자에게 전송하는 기법
        - DOM (Document Object Model) XSS : 공격자는 DOM 기반 XSS 취약점이 있는 브라우저를 대상으로 조작된 URL을 이메일을 통해 발송하고 피해자가 URL 클릭 시 공격 피해를 당하는 기법  
        > 취약 게시판에 XSS 코드 삽입 -> 게시판 접속 -> XSS 스크립트 전달 -> XSS 스크립트 실행 -> XSS 실행 결과값 전달  

        -> 사용자만 피해를 입음
    
    - 사이트 간 요청 위조 (CSRF; Cross Site Request Forgery) :
        - 사용자가 자신의 의지와 무관하게 공격자가 의도한 행위를 특정 웹사이트에 요청하게 하는 공격  
        > CSRF 스크립트가 포함된 게시물 등록 -> CSRF 스크립트가 포함된 페이지 게시물 열람 요청 -> 게시물을 읽은 사용자의 권한으로 공격자가 원하는 요청 발생 -> 공격자가 원하는 CSRF 스크립트 결과 발생  

        -> 웹서버 사용자 모두 피해를 입음

    - SQL Injection : 
        - 응용 프로그램의 보안 취약점을 이용해 악의적인 SQL 구문을 삽입하여 정보 탈취 및 조작
        - 공격 유형 :
            - From SQL Injection : HTML Form 기반 인증을 담당하는 애플리케이션의 취약점이 있는 경우 사용자 인증을 위한 쿼리 문의 조건을 임의로 조작하여 인증을 우회
            - Union SQL Injection : 쿼리의 UNION 연산자를 이용하여 한 쿼리의 결과를 다른 쿼리의 결과에 결합하여 공격하는 기법
            - Stored Procedure SQL Injection : 저장 프로시저를 이용하여 공격하는 기법
            - Mass SQL Injection : 기존 SQL Injection의 확장된 개념으로 한 번의 공격으로 대량의 DB 값이 변조되어 홈페이지에 치명적인 영향을 미치는 공격기법
            - Error-Based SQL Injection : DB 쿼리에 대한 에러값을 기반으로 한 단계씨 점진적으로 DB 정보를 획득할 수 있는 공격기법
            - Blind SQL Injection : 오류 메시지가 아닌 쿼리 결과의 참과 거짓을 통해 의도하지 않은 SQL 문을 실행함으로써 데이터베이스를 비정상적으로 공격

## 3. 보안 기능
- 인증, 접근제어, 기밀성, 암호화, 권한 관리 등을 적절하게 구현하기 위한 보안 점검 항목들
- 보안 기능 취약점 : 적절한 인증 없이 중요 기능 허용, 부적절한 인가, 취약한 암호화 알고리즘 사용, 중요 정보 평문 저장 및 전송, 하드 코드 된 비밀번호, 취약한 패스워드 요구 조건

## 4. 에러 처리
- 프로그램 실행 시 발생하는 에러를 예외 처리하지 못하거나, 에러 정보에 중요한 정보가 포함될 때 발생할 수 있는 취약점을 예방하기 위한 보안 점검 항목들
- 에러 처리 취약점 : 오류 메시지를 통한 정보 노출, 오류 상황 대응 부재, 적절하지 않은 예외 처리

## 5. 세션 통제 
- 다른 세션 간 데이터 공유 등 세션과 관련되어 발생할 수 있는 취약점을 예방하기 위한 보안 점검 항목들
- 세션 통제 취약점 : 불충분한 세션 관리

## 6. 코드 오류
- 소프트웨어 구현 단계에서 프로그램 변환 시 오류, 서버의 리소스 자원의 부적절한 반환 등 개발자가 흔하게 실수하는 프로그램 오류를 예방하기 위한 보안 점검 항목들
- 코드 오류 취약점 : 널 포인터 역참조, 정수를 문자로 변환, 부적절한 자원 해제, 초기화되지 않은 변수 사용

## 7. 캡슐화
- 외부에 은닉이 필요한 중요한 데이터와 필요한 기능성을 불충분하게 캡슐화했을 때 인가되지 않은 사용자에게 데이터 유출, 권한 문제 등이 발생할 수 있는 보안 취약점 예방을 위한 보안 검증 항목들
- 캡슐화 취약점 : 잘못된 세션에 의한 데이터 정보 노출, 제거되지 않고 남은 디버그 코드, 민감한 데이터를 가진 내부 클래스 사용, 시스템 데이터 정보 노출

## API 오용
- 서비스에서 제공되는 이용에 반하는 방법으로 API를 이용하거나 보안에 취약한 API를 오용하여 발생할 수 있는 보안 취약점 예방을 위한 보안 검증 항목들
- API 오용 취약점 : DNS Lookup에 의존한 보안 결정, 위험하다고 알려진 함수 사용, 널 매개변수 미검사

# 2-2 시스템 보안 구현

## 1. 유닉스 / 리눅스 주요 로그 파일
- wtmp/wtmpx : 사용자 로그인/로그아웃 정보, last 
- utmp/utmpx : 현재 시스템에 로그인한 사용자 정보 who, w, users, finger
- btmp/btmpx : 로그인에 실패한 정보, lastb
- lastlog : 사용자별 최근 로그인 시간 및 접근한 소스 호스트에 대한 정보, lastlog
- sulog : su명령어 실행 성공/실패 결과에 대한 정보
- acct/pacct : 사용자별로 실행되는 모든 명령어에 대한 로그, lastcomm, acctcom
- xferlog : FTP 서비스 데이터 전송 기록 로그
- messages : 부트 메시지 등 시스템의 가장 기본적인 시스템 로그 파일
- secure : 보안과 관련된 주요 로그를 기록, 사용자 인증과 관련된 로그를 기록

## 2. 보안 솔루션
- 네트워크 보안 솔루션 :
    - 방화벽 (Firewall) : 기업 내부, 외부 간 트래픽을 모니터링하여 시스템의 접근을 허용하거나 차단하는 시스템
    - 웹 방화벽 (WAF; Web Application Firewall) : 웹 애플리케이션 보안에 특화된 보안장비
    - 네트워크 접근 제어 (NAC; Network Access Control) : 단말기가 내부 네트워크에 접속을 시도할 때 이를 제어하고 통제하는 기능을 제공하는 솔루션
    - 침입 탐지 시스템 (IDS; Intrusion Detection System) : 네트워크에서 발생하는 이벤트를 모니터링하고 비인가 사용자에 의한 자원접근과 보안정책 위반 행위를 실시간으로 탐지하는 시스템
    - 침입 방지 시스템 (IPS; Intrusion Prevention System) : 네트워크에 대한 공격이나 침입을 실시간적으로 차단하고, 유해트래픽에 대한 조치를 능동적으로 처리하는 시스템
    - 통합 보안 시스템 (WIPS; Wireless Intrsion Prevention System) : 보안 장비의 기능을 하나의 장비로 통합하여 제공하는 시스템
    - 가상사설망 (VPN; Virtual Private Network) : 인터넷과 같은 공중망에 인증, 암호화, 터널링 기술을 활용하여 마치 전용망을 사용하는 효과를 가지는 보안 솔루션 -> IPSec, SSL
    - SIEM (Security Information and Event Management) : 보안 로그와 이벤트 정보를 수집한 후 정보 간의 연관성을 분석하여 위협 상황을 인지하고, 침해사고에 신속하게 대응하는 보안 관제 솔루션
    - ESM (Enterprise Security Management) : 여러 보안 시스템으로부터 발생한 각종 이벤트 및 로그를 통합해서 관리, 분석, 대응하는 전사적 통합 보안 관리 시스템

- 시스템 보안 솔루션 :
    - 스팸 차단 솔루션 : 메일 서버 앞단에 위치하여 프록시 메일 서버로 동작
    - 보안 운영체제 : 컴퓨터 운영체제의 커널에 보안 기능을 추가

- 콘텐츠 유출 방지 보안 솔루션 :
    - 보안 USB : 정보 유출 방지 등의 보안 기능을 갖춤
    - 데이터 유출 방지 (DLP; Data Loss Prevention) : 조직 내부의 중요 자료가 외부로 빠져나가는 것을 탐지하고 차단
    - 디지털 저작권 관리 (DRM; Digital Right Management) : 디지털 저작물에 대한 보호와 관리를 위한 솔루션
# 2-3 SW 개발 보안 테스트와 결함 관리
- 소프트웨어 보안 요구사항이 반영되어 있음을 보증하고, 취약점을 발견하고 개선하여 안전한 소프트웨어를 개발하기 위한 활동
- 소프트웨어 개발 보안테스트 유형 : 
  - 정적 분석 : SW를 실행하지 않고 보안 약점을 분석, SW 개발 단계에서 사용
  - 동적 분석 : SW 실행환경에서 보안 약점 분석, SW 시험 단계에서 사용

# 2-4 비즈니스 연속성 계획 (BCP)

## 1. 비즈니스 연속성 계획 (BCP; Business Continuity Plan)의 개념
- 각종 재해, 장애, 재난으로부터 위기관리를 기반으로 재해복구, 업무복구 및 재개 등을 통해 비즈니스 연속성을 보장하는 체계

## 2. 비즈니스 연속성 계획 관련 주요 용어
- BIA (Business IMpact Analysis) : 장애나 재해로 인해 운영상의 주요 손실을 볼 것을 가정하여 시간 흐름에 따른 영향도 및 손실평가를 조사하는 BCP를 구축하기 위한 비즈니스 영향 분석
- RTO (Recovery Time Objective): 업무중단 시점부터 업무가 복구되어 다시 가동될 때까지의 시간
- RPO (Recovery Point Objective) : 업무중단 시점부터 데이터가 복구되어 다시 정상가동될 때 데이터 손실 허용 시점
- DRP (Disaster Recovery Plan) : 재난으로 장기간에 걸쳐 시설의 운영이 불가능한 경우를 대비한 재난 복구 계획
- DRS (Disaster Recovery System) : 
    - 재해복구계획의 원활한 수행을 지원하기 위하여 평상시에 확보하여 두는 인적, 물적 자원 및 이들에 대한 지속적인 관리체계가 통합된 재해복구센터
    - Mirror Site : 주 센터와 데이터복구센터 모두 운영 상태로 실시간 동시 서비스가 가능한 재해복구센터
    - Hot Site : 주 센터와 동일한 수준의 자원을 대기 상태로 원격지에 보유하면서 동기, 비동기 방식의 미러링을 통하여 데이터의 최신 상태를 유지하고 있는 재해복구센터
    - Warm Site : 중요성이 높은 자원만 부분적으로 재해복구센터에 보유하고 있는 센터
    - Cold Site : 데이터만 원격지에 보관하고, 재해 시 데이터를 근간으로 필요 자원을 조달하여 복구 할 수 있는 재해복구센터

# 2-5 보안 용어

## 1. 보안 공격 관련 용어
- 부 채널 공격 (Side Channel Attack) : 암호화 알고리즘의 실행 시기의 전력 소비, 전자기파 방사 등의 물리적 특성을 측정하여 내부 비밀 정보를 획득
- 드라이브 바이 다운로드 (Drive By Download) : 악성 스크립트를 미리 설치하고 사용자 접속 시 동의 없이 실행되어 의도된 서버로 연결하여 감염시킴
- 워터링홀 (Watering Hole) : 특정인이 잘 방문하는 웹사이트에 악성코드를 심거나 URL로 유인하여 감염시킴
- 비즈니스 스캠 (SCAM) : 기업 이메일 계정 도용하여 무역 거래 대금 가로채는 사이버 범죄
- 하트 블리드 (HeartBleed) : OpenSSL에서 데이터 길이 검증을 수행하지 않는 취약점 이용
- 크라임웨어 (Crimeware) : 중요한 정보를 탈취하거나 유출을 유도하여 금전적인 이익 등의 범죄행위를 목적으로 함
- 토르 네트워크 (Tor Network) : 네트워크 경로를 알 수 없도록 암호화 기법을 사용하여 데이터 전송, 익명으로 인터넷을 사용할 수 있는 가상 네트워크
- MITM 공격 (Man in the Middle) : 통신을 연결하는 두 사람 사이 중간에 침입하여 두 사람의 정보를 탈취하는 중간자 공격
- DNS 스푸핑 공격 (Spoofing) : 공격 대상에서 전달되는 DNS 응답을 조작하거나 DNS 서버의 캐시 정보를 조작하여 희생자가 의도하지 않은 주소로 접속하게 만드는 공격기법
- 포트 스캐닝 (Port Scanning) : 공격자가 침입 전 대상 호스트에 어떤 포트가 활성되어 있는지 확인하는 기법
- 디렉토리 리스팅 (Directory Listing) : 웹 애플리케이션을 사용하고 있는 서버의 미흡한 설정으로 인해 인덱싱 기능이 활성화되어 있을 경우, 공격자가 강제 브라우징을 통해서 서버 내의 모든 디렉토리 및 파일 목록을 볼 수 있는 취약점
- 리버스 쉘 공격 (everse Shell) : 타깃 서버가 클라이언트로 접속해서 클라이언트가 타깃 서버의 쉘을 획득해서 공격하는 기법
- 익스플로잇 (Exploit) : 소프트웨어나 하드웨어의 버그 또는 취약점을 이용하여 공격자가 의도한 동작이나 명령을 실행하도록 하는 코드
- 스턱스넷 공격 (Stuxnet) : 주요 산업 기반 시설의 제어 시스템에 침투해서 오작동을 일으키는 악성코드 공격기법
- 크리덴셜 스터핑 (Credential Stuffing) : 다른 곳에서 유출된 로그인 정보를 다른 웹 사이트나 앱에 무작위로 대입

## 2. 보안 공격 대응 관련 용어
- 허니팟 (Honeypot) : 비정상적인 접근을 탐지하기 위해 의도적으로 설치해 둔 시스템으로 일부러 허술하게 만들어서 해커에게 노출하는 유인시스템
- OWASP Top 10 : 웹 애플리케이션 취약점 중 공격 빈도가 높고 영향이 큰 10가지 취약점에 대해 대응 방안을 제공하는 웹 보안 기술 가이드
- 핑거프린팅 (Finger Printing) : 멀티미디어 콘텐츠에 저작권 정보와 구매한 사용자 정보를 삽입하여 콘텐츠 불법 배포자에 대한 위치 추적이 가능한 기술
- 워터마킹 (Water Making) : 디지털 콘텐츠에 저작권자 정보를 삽입하여 콘텐츠 보호
- 이상금융거래탐지시스템 (FDS; Fraud Detection System) : 전자금융거래에 사용되는 정보들을 종합적으로 분석하여 의심 거래를 탐지하고, 이상 거래를 차단
- CC (Common Criteria) : 정보기술의 보안 기능과 보증에 대한 평가 기준
- 사이버 위협정보 분석 공유시스템 (C-Tas; Cyber Threats Analysis System) : 사이버 위협정보를 체계적 수립해서 KISA 주관으로 관계 기관과 자동화된 정보공유를 할 수 있는 침해 예방 대응 시스템
- 장착형 인증 모듈 (PAM; Pluggable Authentication Module) : 리눅스 시스템 내에서 사용되는 각종 애플리케이션 인증을 위해 제공되는 다양한 인증용 라이브러리
- CVE (Common Vulnerabilities and Exposures) : MITRE 사에서 공개적으로 알려진 소프트웨어 보안취약점을 표준화한 식별자 목록
- CWE (Common Weakness Enumeration) : MITRE 사가 약점을 체계적으로 분류한 목록으로, 소스 코드 취약점을 정의한 데이터베이스
- ISMS (Information Security anagement System) : 정보보호 관리 절차와 과정을 체계적으로 수립하여 지속적으로 관리하여 운영하기 위한 종합적인 체계
- PIMS (Personal Information Management System) : 기업이 개인정보보호 활동을 체계적, 지속적으로 수행하기 위해 필요한 보호조치 체계를 구축했는지 여부를 점검, 평가하여 기업에게 부여하는 인증제도
- PIA (Privacy Impact Assessment) : 개인정보를 활용하는 새로운 정보 시스템의 도입이나 개인정보 취급이 수반되는 기존 정보 시스템의 중대한 변경 시, 동 시스템의 구축, 운영, 변경 등이 프라이버시에 미치는 영향에 대하여 사전에 조사 및 예측, 검토하여 개선 방안을 도출하는 체계적인 절차
- TKIP (Temporal Key Integrity Protocol) : 임시 키 무결성 프로토콜